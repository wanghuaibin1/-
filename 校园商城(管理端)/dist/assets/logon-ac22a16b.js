import{a3 as o,q as t,a4 as n,a5 as i}from"./index-ff0f60b8.js";import{r}from"./request-512292d2.js";const m=e=>r.post_urlencoded("/store/login",e),g=o("counter",{state:()=>({userID:"",token:"",menuList:[{indexPath:0,title:`${t.message_home}`,icon:"HomeFilled",id:0,path:"/home",name:"Home",component:"home/index",meta:{title:`${t.message_home}`,parentId:0,id:"000",requiresAuth:"user"}},{indexPath:7,title:`${t.message_shangjia}`,icon:"Checked",id:4,children:[{path:"/business",name:"商家管理",component:"business/index",meta:{title:`${t.message_business}`,parentId:4,id:0,requiresAuth:"admin"}}]},{indexPath:1,title:`${t.message_dingdanS}`,icon:"Checked",id:1,children:[{path:"/order",name:"Order",component:"orderManagement/Order",meta:{title:`${t.message_dingdan}`,parentId:1,id:101,requiresAuth:"user"}}]},{indexPath:2,id:2,title:`${t.message_xitoS}`,icon:"Tools",children:[{path:"/loginLog",name:"LoginLog",component:"system/LoginLog",meta:{title:`${t.message_rizhi}`,parentId:2,requiresAuth:"user",id:201}}]},{indexPath:3,id:3,title:`${t.message_shangpingS}`,icon:"Goods",children:[{path:"/commodityManagement",name:"CommodityManagement",component:"commodity/CommodityManagement",meta:{title:`${t.message_shpinguanli}`,parentId:3,requiresAuth:"user",id:301}}]}],tags:[]}),getters:{},actions:{async getLogin(e,a){const{data:s}=await m(a);if(s.value.code!==200)return n({message:"登录失败",type:"error"});s.value.code===200?(n({message:"登录成功",type:"success"}),sessionStorage.setItem("token",s.value.data.token),a.token=s.value.data.token,a.userID=s.value.data.userId,i.push({path:"/"})):n({message:s.value.message,type:"error"})},increment(e){this.tags.findIndex(s=>s.path===e.path)===-1&&(e.name==="首页"?this.tags.unshift(e):this.tags.push(e))},titl(e){this.tags.length!==1&&(this.tags.length===2&&(e===0?i.push({path:this.tags[1].path}):i.push({path:this.tags[0].path})),this.tags.splice(e,1))}}});export{g as u};
